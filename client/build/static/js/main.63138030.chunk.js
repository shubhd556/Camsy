(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,t){},133:function(e,t){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var c=a(0),i=a(9),r=a.n(i),s=a(22),n=a(191),l=a(186),o=a(181),j=a(184),d=a(152),b=a(19),p=a(83),x=a(54),u=a.n(x),O=a(2),m=Object(c.createContext)(),v=Object(p.io)("https://video-chat-app-first.herokuapp.com"),g=function(e){var t=e.children,a=Object(c.useState)(!1),i=Object(b.a)(a,2),r=i[0],s=i[1],n=Object(c.useState)(!1),l=Object(b.a)(n,2),o=l[0],j=l[1],d=Object(c.useState)(),p=Object(b.a)(d,2),x=p[0],g=p[1],f=Object(c.useState)(""),h=Object(b.a)(f,2),y=h[0],C=h[1],w=Object(c.useState)({}),k=Object(b.a)(w,2),N=k[0],S=k[1],I=Object(c.useState)(""),B=Object(b.a)(I,2),W=B[0],D=B[1],R=Object(c.useRef)(),F=Object(c.useRef)(),A=Object(c.useRef)();Object(c.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){g(e),R.current.srcObject=e})),v.on("me",(function(e){return D(e)})),v.on("callUser",(function(e){var t=e.from,a=e.name,c=e.signal;S({isReceivingCall:!0,from:t,name:a,signal:c})}))}),[]);return Object(O.jsx)(m.Provider,{value:{call:N,callAccepted:r,myVideo:R,userVideo:F,stream:x,name:y,setName:C,callEnded:o,me:W,callUser:function(e){var t=new u.a({initiator:!0,trickle:!1,stream:x});t.on("signal",(function(t){v.emit("callUser",{userToCall:e,signalData:t,from:W,name:y})})),t.on("stream",(function(e){F.current.srcObject=e})),v.on("callAccepted",(function(e){s(!0),t.signal(e)})),A.current=t},leaveCall:function(){j(!0),A.current.destroy(),window.location.reload()},answerCall:function(){s(!0);var e=new u.a({initiator:!1,trickle:!1,stream:x});e.on("signal",(function(e){v.emit("answerCall",{signal:e,to:N.from})})),e.on("stream",(function(e){F.current.srcObject=e})),e.signal(N.signal),A.current=e}},children:t})},f=Object(o.a)((function(e){return{paper:{background:"rgba( 255, 255, 255, 0.35 )",WebkitBackdropFilter:"blur(11.5px)",backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18)",margin:"10px",padding:"10px"},video:Object(s.a)({width:"600px",borderRadius:"15px"},e.breakpoints.down("xs"),{width:"300px"}),gridContainer:Object(s.a)({justifyContent:"center"},e.breakpoints.down("xs"),{flexDirection:"column"}),typography:{fontWeight:"900"}}})),h=function(){var e=Object(c.useContext)(m),t=e.name,a=e.callAccepted,i=e.myVideo,r=e.userVideo,s=e.callEnded,n=e.stream,o=e.call,b=f();return Object(O.jsxs)(j.a,{container:!0,className:b.gridContainer,children:[n&&Object(O.jsx)(d.a,{className:b.paper,children:Object(O.jsxs)(j.a,{item:!0,xs:12,md:6,children:[Object(O.jsx)(l.a,{variant:"h5",gutterBottom:!0,children:t||"Name"}),Object(O.jsx)("video",{playsInline:!0,muted:!0,ref:i,autoPlay:!0,className:b.video})]})}),a&&!s&&Object(O.jsx)(d.a,{className:b.paper,children:Object(O.jsxs)(j.a,{item:!0,xs:12,md:6,children:[Object(O.jsx)(l.a,{variant:"h5",gutterBottom:!0,children:o.name||"Name"}),Object(O.jsx)("video",{playsInline:!0,ref:r,autoPlay:!0,className:b.video})]})})]})},y=a(193),C=function(){var e=Object(c.useContext)(m),t=e.answerCall,a=e.call,i=e.callAccepted;return Object(O.jsx)(O.Fragment,{children:a.isReceivingCall&&!i&&Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(O.jsxs)("h1",{children:[a.name," is calling:"]}),Object(O.jsx)(y.a,{variant:"contained",color:"primary",onClick:t,children:"Answer"})]})})},w=a(187),k=a(192),N=a(89),S=a(188),I=a(189),B=a(190),W=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column"},gridContainer:Object(s.a)({width:"100%"},e.breakpoints.down("xs"),{flexDirection:"column"}),typography:{fontWeight:"Bold"},container:Object(s.a)({width:"600px",margin:"35px 0",padding:0},e.breakpoints.down("xs"),{width:"80%"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:"10px 20px",background:"rgba( 255, 255, 255, 0.35 )",WebkitBackdropFilter:"blur(11.5px)",backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",borderRadius:"10px",border:"1px solid rgba( 255, 255, 255, 0.18)"}}})),D=function(e){var t=e.children,a=Object(c.useContext)(m),i=a.me,r=a.callAccepted,s=a.name,n=a.setName,o=a.callEnded,p=a.leaveCall,x=a.callUser,u=Object(c.useState)(""),v=Object(b.a)(u,2),g=v[0],f=v[1],h=W();return Object(O.jsx)(w.a,{className:h.container,children:Object(O.jsxs)(d.a,{elevation:10,className:h.paper,children:[Object(O.jsx)("form",{className:h.root,noValidate:!0,autoComplete:"off",children:Object(O.jsxs)(j.a,{container:!0,className:h.gridContainer,children:[Object(O.jsxs)(j.a,{item:!0,xs:12,md:6,className:h.padding,children:[Object(O.jsx)(l.a,{gutterBottom:!0,variant:"h6",children:"Account Info"}),Object(O.jsx)(k.a,{label:"Name",value:s,onChange:function(e){return n(e.target.value)},fullWidth:!0}),Object(O.jsx)(N.CopyToClipboard,{text:i,className:h.margin,children:Object(O.jsx)(y.a,{variant:"contained",color:"primary",fullWidth:!0,startIcon:Object(O.jsx)(S.a,{fontSize:"large"}),children:"Copy Your ID"})})]}),Object(O.jsxs)(j.a,{item:!0,xs:12,md:6,className:h.padding,children:[Object(O.jsx)(l.a,{gutterBottom:!0,variant:"h6",children:"Make a call"}),Object(O.jsx)(k.a,{label:"ID to call",value:g,onChange:function(e){return f(e.target.value)},fullWidth:!0}),r&&!o?Object(O.jsx)(y.a,{variant:"contained",color:"secondary",startIcon:Object(O.jsx)(I.a,{fontSize:"large"}),fullWidth:!0,onClick:p,className:h.margin,children:"Hang Up"}):Object(O.jsx)(y.a,{variant:"contained",color:"primary",startIcon:Object(O.jsx)(B.a,{fontSize:"large"}),fullWidth:!0,onClick:function(){return x(g)},className:h.margin,children:"Call"})]})]})}),t]})})};a(148);var R=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{class:"bg"}),Object(O.jsx)("div",{class:"bg bg2"}),Object(O.jsx)("div",{class:"bg bg3"})]})};a(149);var F=function(){return Object(O.jsxs)("div",{id:"particle-container",children:[Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"}),Object(O.jsx)("div",{class:"particle"})]})},A=Object(o.a)((function(e){return{appBar:Object(s.a)({borderRadius:15,margin:"30px 100px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"600px",background:"rgba( 255, 255, 255, 0.35 )",WebkitBackdropFilter:"blur(11.5px)",backdropFilter:"blur(10px)",boxShadow:"0 8px 32px 0 rgba( 31, 38, 135, 0.37 )",border:"1px solid rgba( 255, 255, 255, 0.18)"},e.breakpoints.down("xs"),{width:"90%"}),image:{marginLeft:"15px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},typography:{fontFamily:['"Segoe UI"',"Tahoma","Geneva","Verdana","sans-serif"].join(",")}}}));var U=function(){var e=A();return Object(O.jsxs)("div",{children:[Object(O.jsx)(R,{}),Object(O.jsx)(F,{}),Object(O.jsxs)("div",{className:e.wrapper,children:[Object(O.jsx)(n.a,{className:e.appBar,position:"static",color:"inherit",children:Object(O.jsx)(l.a,{variant:"h2",align:"center",children:"Camsy"})}),Object(O.jsx)(h,{}),Object(O.jsx)(D,{children:Object(O.jsx)(C,{})})]})]})};a(150);r.a.render(Object(O.jsxs)(g,{children:[Object(O.jsx)(U,{}),","]}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.63138030.chunk.js.map